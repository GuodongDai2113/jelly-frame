(function(t){"use strict";function e(t,e){let o;return(...n)=>{clearTimeout(o),o=setTimeout(()=>t.apply(this,n),e)}}class o{constructor(){this.initProgressBar(),this.initScrollTopButton(),this.initRankMathTocBlock(),this.initShareButtons(),this.initCategoriesScroll(),this.initTableWidthTrouble(),this.initWoocommerceContent(),this.initPrimaryMenu(),this.initFloatButtons(),this.initCookieBanner()}initProgressBar(){const e=document.querySelector(".totop-button .progress-circle path");if(!e)return;const o=e.getTotalLength();e.style.transition=e.style.WebkitTransition="none",e.style.strokeDasharray=`${o} ${o}`,e.style.strokeDashoffset=o,e.getBoundingClientRect(),e.style.transition=e.style.WebkitTransition="stroke-dashoffset 10ms linear";const n=()=>{const n=t(window).scrollTop(),i=t(document).height()-t(window).height(),s=o-n*o/i;e.style.strokeDashoffset=s};n(),t(window).on("scroll",n)}initScrollTopButton(){const o=50,n=100,i=t(".totop-button");t(window).on("scroll",()=>{t(window).scrollTop()>o?i.addClass("active-progress"):i.removeClass("active-progress")}),i.on("click",e(e=>{e.preventDefault(),t("html, body").animate({scrollTop:0},n)},300))}initRankMathTocBlock(){const e=t(".sidebar"),o=t("div.wp-block-rank-math-toc-block");e.length&&o.length&&(window.innerWidth>768?o.appendTo(e):o.css({position:"relative",top:"unset"}),o.on("click","a",function(e){e.preventDefault();const o=t(this).attr("href"),n=t(o);if(n.length){const e=n.offset().top-120;t("html, body").animate({scrollTop:e},500)}history.pushState({},"",o)}))}initShareButtons(){const e={twitter:{url:"https://twitter.com/intent/tweet",params:{text:document.title,url:window.location.href}},facebook:{url:"https://www.facebook.com/sharer/sharer.php",params:{u:window.location.href}},linkedin:{url:"https://www.linkedin.com/shareArticle",params:{title:document.title,summary:"",source:window.location.href,url:window.location.href}}};t(".share-toggle").on("click",function(o){o.preventDefault();const n=t(this).attr("id");if(e[n]){const t=new URLSearchParams(e[n].params),o=`${e[n].url}?${t.toString()}`;window.open(o,"_blank","width=600,height=400")}})}initCategoriesScroll(){const e=t(".categories-list"),o=e.find("li.active");if(o.length){const t=e.outerHeight(),n=e.get(0).scrollHeight,i=o.position().top-3*o.outerHeight()+3;n>t&&e.animate({scrollTop:i},500)}}initTableWidthTrouble(){t(".content table").each(function(){t(this).parent().hasClass("content-table")||t(this).wrap('<div class="content-table"></div>')})}initWoocommerceContent(){t(".product .content h2").each(function(e){let o=t(this).text().trim();if("description"===o.toLowerCase())return;let n=o.toLowerCase().replace(/\s+/g,"-");t(this).attr("id",n);let i=`\n            <li>\n                <a href="#${n}">\n                    ${o}\n                </a>\n            </li>\n        `;t(".product-table-of-content").append(i)}),t(".product-table-of-content").on("click","a",function(e){e.preventDefault();const o=t(this).attr("href"),n=t(o);if(t(this).parent().siblings().removeClass("active"),t(this).parent().addClass("active"),n.length){const e=n.offset().top-120;t("html, body").animate({scrollTop:e},500)}history.pushState({},"",o)})}initPrimaryMenu(){t(".primary-menu li").hover(function(){const e=t(this).children(".sub-menu");if(e.length&&t(window).width()>1240){e.removeClass("open-left").css({visibility:"hidden",display:"block"});const o=e[0].getBoundingClientRect(),n=o.right>t(window).width();n&&e.addClass("open-left"),e.css({visibility:"",display:""})}}),t(".menu-toggle").on("click",function(){t(".primary-menu").addClass("active"),t(".menu-overlay").addClass("active")}),t(".menu-close, .menu-overlay").on("click",function(){t(".primary-menu").removeClass("active"),t(".menu-overlay").removeClass("active"),t(".primary-menu li").removeClass("submenu-open")});let e=!0;t(".menu-actions #searchsubmit").on("click",function(o){const n=t(this).closest("form"),i=n.find(".search-input");e&&(o.preventDefault(),i.addClass("active"),e=!1)}),t(".primary-menu li.menu-item-has-children > a").on("click",function(e){const o=t(this).parent("li");if(t(window).width()<=1240){if(o.hasClass("submenu-open"))return!0;e.preventDefault(),o.siblings(".menu-item-has-children").removeClass("submenu-open"),o.addClass("submenu-open")}}),t(window).on("resize",function(){t(window).width()>1240&&(t(".primary-menu").removeClass("active"),t(".menu-overlay").removeClass("active"),t(".primary-menu li.menu-item-has-children").removeClass("submenu-open"))})}initFloatButtons(){const e=t("#floatButtons");if(e.length>0)if(1===e.children().length)e.remove();else{const o=t("#floatButtonClose");"true"===sessionStorage.getItem("floatButtonsClosed")&&e.addClass("buttons-close"),o.on("click",function(){e.toggleClass("buttons-close"),sessionStorage.setItem("floatButtonsClosed",e.hasClass("buttons-close"))})}}initCookieBanner(){if("accepted"===localStorage.getItem("cookie-consent")||"rejected"===localStorage.getItem("cookie-consent"))return;const e=t(".cookie-banner");e.css("display","flex").hide().slideDown(300),t(".cookie-banner .accept-button").on("click",()=>{localStorage.setItem("cookie-consent","accepted"),e.slideUp()}),t(".cookie-banner .reject-button").on("click",()=>{localStorage.setItem("cookie-consent","rejected"),e.slideUp()})}}t(document).ready(()=>{new o,console.log("Document Ready!"),console.log("Developer:JellyDai"),console.log("Email:d@jellydai.com")})})(jQuery);